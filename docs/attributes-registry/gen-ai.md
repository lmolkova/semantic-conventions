<!--- Hugo front matter used to generate the website version of this page:
--->

<!-- NOTE: THIS FILE IS AUTOGENERATED. DO NOT EDIT BY HAND. -->
<!-- see templates/registry/markdown/attribute_namespace.md.j2 -->

# Gen AI

- [GenAI Attributes](#genai-attributes)
- [OpenAI Attributes](#openai-attributes)
- [Deprecated GenAI Attributes](#deprecated-genai-attributes)

## GenAI Attributes

This document defines the attributes used to describe telemetry in the context of Generative Artificial Intelligence (GenAI) Models requests and responses.

| Attribute                                                                                                                | Type     | Description                                                                                      | Examples                                                | Stability                                                        |
| ------------------------------------------------------------------------------------------------------------------------ | -------- | ------------------------------------------------------------------------------------------------ | ------------------------------------------------------- | ---------------------------------------------------------------- |
| <a id="gen-ai-agent-description" href="#gen-ai-agent-description">`gen_ai.agent.description`</a>                         | string   | Free-form description of the GenAI agent provided by the application.                            | `Helps with math problems`; `Generates fiction stories` | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-agent-id" href="#gen-ai-agent-id">`gen_ai.agent.id`</a>                                                    | string   | The unique identifier of the GenAI agent.                                                        | `asst_5j66UpCpwteGg4YSxUnt7lPY`                         | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-agent-name" href="#gen-ai-agent-name">`gen_ai.agent.name`</a>                                              | string   | Human-readable name of the GenAI agent provided by the application.                              | `Math Tutor`; `Fiction Writer`                          | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-message-id" href="#gen-ai-message-id">`gen_ai.message.id`</a>                                              | string   | Identifies message sent to or received from Generative AI model or agent. [1]                    | `msg_sLMd7grQfjFXgu5ZeHCXmBr7`; `chatcmpl-123`          | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-message-status" href="#gen-ai-message-status">`gen_ai.message.status`</a>                                  | string   | The status of the message.                                                                       | `in_progress`; `completed`; `incomplete`                | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-operation-name" href="#gen-ai-operation-name">`gen_ai.operation.name`</a>                                  | string   | The name of the operation being performed. [2]                                                   | `chat`; `text_completion`; `create_agent`               | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-frequency-penalty" href="#gen-ai-request-frequency-penalty">`gen_ai.request.frequency_penalty`</a> | double   | The frequency penalty setting for the GenAI request.                                             | `0.1`                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-max-input-tokens" href="#gen-ai-request-max-input-tokens">`gen_ai.request.max_input_tokens`</a>    | int      | The maximum number of prompt tokens the model can use.                                           | `100`                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-max-output-tokens" href="#gen-ai-request-max-output-tokens">`gen_ai.request.max_output_tokens`</a> | int      | The maximum number of completion tokens the model generates in response.                         | `100`                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-model" href="#gen-ai-request-model">`gen_ai.request.model`</a>                                     | string   | The name of the GenAI model a request is being made to.                                          | `gpt-4`                                                 | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-presence-penalty" href="#gen-ai-request-presence-penalty">`gen_ai.request.presence_penalty`</a>    | double   | The presence penalty setting for the GenAI request.                                              | `0.1`                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-response-format" href="#gen-ai-request-response-format">`gen_ai.request.response_format`</a>       | string   | The response format that is requested.                                                           | `text`; `json_object`; `json_schema`                    | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-stop-sequences" href="#gen-ai-request-stop-sequences">`gen_ai.request.stop_sequences`</a>          | string[] | List of sequences that the model will use to stop generating further tokens.                     | `["forest", "lived"]`                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-temperature" href="#gen-ai-request-temperature">`gen_ai.request.temperature`</a>                   | double   | The temperature setting for the GenAI request.                                                   | `0.0`                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-top-k" href="#gen-ai-request-top-k">`gen_ai.request.top_k`</a>                                     | double   | The top_k sampling setting for the GenAI request.                                                | `1.0`                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-request-top-p" href="#gen-ai-request-top-p">`gen_ai.request.top_p`</a>                                     | double   | The top_p sampling setting for the GenAI request.                                                | `1.0`                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-response-finish-reasons" href="#gen-ai-response-finish-reasons">`gen_ai.response.finish_reasons`</a>       | string[] | Array of reasons the model stopped generating tokens, corresponding to each generation received. | `["stop"]`; `["stop", "length"]`                        | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-response-model" href="#gen-ai-response-model">`gen_ai.response.model`</a>                                  | string   | The name of the model that generated the response.                                               | `gpt-4-0613`                                            | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-system" href="#gen-ai-system">`gen_ai.system`</a>                                                          | string   | The Generative AI product as identified by the client or server instrumentation. [3]             | `openai`                                                | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-thread-id" href="#gen-ai-thread-id">`gen_ai.thread.id`</a>                                                 | string   | The unique identifier of the thread.                                                             | `thread_ggguJ0iZXRPjUnCy9vT9Fdvs`                       | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-thread-run-id" href="#gen-ai-thread-run-id">`gen_ai.thread.run.id`</a>                                     | string   | The unique identifier of the thread run.                                                         | `run_ep8IxBKdM06Mv338KNyo6EKP`                          | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-thread-run-status" href="#gen-ai-thread-run-status">`gen_ai.thread.run.status`</a>                         | string   | The thread run status                                                                            | `queued`; `in_progress`; `completed`                    | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-token-type" href="#gen-ai-token-type">`gen_ai.token.type`</a>                                              | string   | The type of token being counted.                                                                 | `input`; `output`                                       | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-tool-call-id" href="#gen-ai-tool-call-id">`gen_ai.tool.call.id`</a>                                        | string   | The tool call identifier.                                                                        | `call_mszuSIzqtI65i1wAUOE8w5H4`                         | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-tool-name" href="#gen-ai-tool-name">`gen_ai.tool.name`</a>                                                 | string   | The tool call identifier.                                                                        | `call_mszuSIzqtI65i1wAUOE8w5H4`                         | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-usage-input-tokens" href="#gen-ai-usage-input-tokens">`gen_ai.usage.input_tokens`</a>                      | int      | The number of tokens used in the GenAI input (prompt).                                           | `100`                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-usage-output-tokens" href="#gen-ai-usage-output-tokens">`gen_ai.usage.output_tokens`</a>                   | int      | The number of tokens used in the GenAI response (completion).                                    | `180`                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |

**[1]:** For inference operations such as `chat` or `text_completion`, it SHOULD be the completion identifier returned by the GenAI system and may not be unique if multiple choices are returned.
If message history is managed by the application, agent, or framework, it SHOULD match the identifier used by the message history management system.

**[2]:** If one of the predefined values applies, but specific system uses a different name it's RECOMMENDED to document it in the semantic conventions for specific GenAI system and use system-specific name in the instrumentation. If a different name is not documented, instrumentation libraries SHOULD use applicable predefined value.

**[3]:** The `gen_ai.system` describes a family of GenAI models with specific model identified
by `gen_ai.request.model` and `gen_ai.response.model` attributes.

The actual GenAI product may differ from the one identified by the client.
For example, when using OpenAI client libraries to communicate with Mistral, the `gen_ai.system`
is set to `openai` based on the instrumentation's best knowledge.

For custom model, a custom friendly name SHOULD be used.
If none of these options apply, the `gen_ai.system` SHOULD be set to `_OTHER`.

`gen_ai.message.status` has the following list of well-known values. If one of them applies, then the respective value MUST be used; otherwise, a custom value MAY be used.

| Value         | Description                                                                    | Stability                                                        |
| ------------- | ------------------------------------------------------------------------------ | ---------------------------------------------------------------- |
| `completed`   | The message has been completed                                                 | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `in_progress` | The message is in progress                                                     | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `incomplete`  | The message has ended due to reaching maximum number of input or output tokens | ![Experimental](https://img.shields.io/badge/-experimental-blue) |

`gen_ai.operation.name` has the following list of well-known values. If one of them applies, then the respective value MUST be used; otherwise, a custom value MAY be used.

| Value                 | Description                                                                                                                      | Stability                                                        |
| --------------------- | -------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------- |
| `chat`                | Chat completion operation such as [OpenAI Chat API](https://platform.openai.com/docs/api-reference/chat)                         | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `create_agent`        | Create GenAI agent                                                                                                               | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `create_message`      | Create a message in a thread [4]                                                                                                 | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `create_thread`       | Create GenAI thread                                                                                                              | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `execute_tool`        | Execute a tool [5]                                                                                                               | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `process_thread_run`  | Create and process a thread run on the agent [6]                                                                                 | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `start_thread_run`    | Create thread run [7]                                                                                                            | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `submit_tool_outputs` | Submit tool calls results to a run [8]                                                                                           | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `text_completion`     | Text completions operation such as [OpenAI Completions API (Legacy)](https://platform.openai.com/docs/api-reference/completions) | ![Experimental](https://img.shields.io/badge/-experimental-blue) |

**[4]:** This operation SHOULD be used when message creation involves remote call to store this message, but does not result in model generating response. It SHOULD NOT be reported along with `chat`, `text_completion` or other inference operations.

**[5]:** This operation describes the tool execution which usually is a client operation performed by the application code.
Instrumentations SHOULD record this operation when possible - for example, when they provide convenience methods for executing custom tools or provide built-in tools executed on the client side.

**[6]:** The run may consist of multiple steps such as calls to model or tool calls which may be executed on the client side by the application or GenAI client framework or remotely on the GenAI agent.
The instrumented operation SHOULD cover full duration of the run including time awaiting the final completion. It SHOULD be reported for streaming runs and for operations that involve polling the run status.

**[7]:** The run may consist of multiple steps such as calls to model or tool calls which may be executed on the client side by the application or GenAI client framework or remotely on the GenAI agent.
Unlike `process_thread_run` this operation covers the creation of the thread run and does not include time awaiting the completion of the run.
Instrumentations SHOULD report `process_thread_run` operation instead of `create_thread_run` whenever it is possible.

**[8]:** This operation SHOULD be used when instrumentation can determine that application is submitting the tool call output to the model, for example, when this operation is reported in the context of agent thread run.
When application is submitting the tool call output with the generic GenAI call such as `chat` or `text_completion`, the instrumentation SHOULD use the corresponding operation name since it cannot reliably determine the intent behind the generic GenAI call.

`gen_ai.request.response_format` has the following list of well-known values. If one of them applies, then the respective value MUST be used; otherwise, a custom value MAY be used.

| Value         | Description                 | Stability                                                        |
| ------------- | --------------------------- | ---------------------------------------------------------------- |
| `json_object` | JSON object response format | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `json_schema` | JSON schema response format | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `text`        | Text response format        | ![Experimental](https://img.shields.io/badge/-experimental-blue) |

`gen_ai.system` has the following list of well-known values. If one of them applies, then the respective value MUST be used; otherwise, a custom value MAY be used.

| Value             | Description        | Stability                                                        |
| ----------------- | ------------------ | ---------------------------------------------------------------- |
| `anthropic`       | Anthropic          | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `az.ai.inference` | Azure AI Inference | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `cohere`          | Cohere             | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `openai`          | OpenAI             | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `vertex_ai`       | Vertex AI          | ![Experimental](https://img.shields.io/badge/-experimental-blue) |

`gen_ai.thread.run.status` has the following list of well-known values. If one of them applies, then the respective value MUST be used; otherwise, a custom value MAY be used.

| Value             | Description                                                                       | Stability                                                        |
| ----------------- | --------------------------------------------------------------------------------- | ---------------------------------------------------------------- |
| `canceled`        | The thread run has been canceled                                                  | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `completed`       | The thread run has completed                                                      | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `expired`         | The thread run has expired                                                        | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `failed`          | The thread run has failed                                                         | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `in_progress`     | The thread run is in progress                                                     | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `incomplete`      | The thread run has ended due to reaching maximum number of input or output tokens | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `queued`          | The thread run is queued                                                          | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `requires_action` | The thread run requires action.                                                   | ![Experimental](https://img.shields.io/badge/-experimental-blue) |

`gen_ai.token.type` has the following list of well-known values. If one of them applies, then the respective value MUST be used; otherwise, a custom value MAY be used.

| Value    | Description                                | Stability                                                        |
| -------- | ------------------------------------------ | ---------------------------------------------------------------- |
| `input`  | Input tokens (prompt, input, etc.)         | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `output` | Output tokens (completion, response, etc.) | ![Experimental](https://img.shields.io/badge/-experimental-blue) |

## OpenAI Attributes

Thie group defines attributes for OpenAI.

| Attribute                                                                                                                         | Type   | Description                                                           | Examples           | Stability                                                        |
| --------------------------------------------------------------------------------------------------------------------------------- | ------ | --------------------------------------------------------------------- | ------------------ | ---------------------------------------------------------------- |
| <a id="gen-ai-openai-request-seed" href="#gen-ai-openai-request-seed">`gen_ai.openai.request.seed`</a>                            | int    | Requests with same seed value more likely to return same result.      | `100`              | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-openai-request-service-tier" href="#gen-ai-openai-request-service-tier">`gen_ai.openai.request.service_tier`</a>    | string | The service tier requested. May be a specific tier, detault, or auto. | `auto`; `default`  | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| <a id="gen-ai-openai-response-service-tier" href="#gen-ai-openai-response-service-tier">`gen_ai.openai.response.service_tier`</a> | string | The service tier used for the response.                               | `scale`; `detault` | ![Experimental](https://img.shields.io/badge/-experimental-blue) |

`gen_ai.openai.request.service_tier` has the following list of well-known values. If one of them applies, then the respective value MUST be used; otherwise, a custom value MAY be used.

| Value     | Description                                                          | Stability                                                        |
| --------- | -------------------------------------------------------------------- | ---------------------------------------------------------------- |
| `auto`    | The system will utilize scale tier credits until they are exhausted. | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `default` | The system will utilize the default scale tier.                      | ![Experimental](https://img.shields.io/badge/-experimental-blue) |

## Deprecated GenAI Attributes

Describes deprecated `gen_ai` attributes.

| Attribute                                                                                                                               | Type   | Description                                               | Examples                                                                | Stability                                                                                                                    |
| --------------------------------------------------------------------------------------------------------------------------------------- | ------ | --------------------------------------------------------- | ----------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------- |
| <a id="gen-ai-completion" href="#gen-ai-completion">`gen_ai.completion`</a>                                                             | string | Deprecated, use Event API to report completions contents. | `[{'role': 'assistant', 'content': 'The capital of France is Paris.'}]` | ![Deprecated](https://img.shields.io/badge/-deprecated-red)<br>Removed, no replacement at this time.                         |
| <a id="gen-ai-openai-request-response-format" href="#gen-ai-openai-request-response-format">`gen_ai.openai.request.response_format`</a> | string | Deprecated, use `gen_ai.request.response_format` instead. | `text`; `json_object`; `json_schema`                                    | ![Deprecated](https://img.shields.io/badge/-deprecated-red)<br>Replaced by `gen_ai.request.response_format` attribute.       |
| <a id="gen-ai-prompt" href="#gen-ai-prompt">`gen_ai.prompt`</a>                                                                         | string | Deprecated, use Event API to report prompt contents.      | `[{'role': 'user', 'content': 'What is the capital of France?'}]`       | ![Deprecated](https://img.shields.io/badge/-deprecated-red)<br>Removed, no replacement at this time.                         |
| <a id="gen-ai-request-max-tokens" href="#gen-ai-request-max-tokens">`gen_ai.request.max_tokens`</a>                                     | int    | Deprecated, use `gen_ai.request.max_tokens` instead.      | `42`                                                                    | ![Deprecated](https://img.shields.io/badge/-deprecated-red)<br>Replaced by `gen_ai.request.max_completion_tokens` attribute. |
| <a id="gen-ai-response-id" href="#gen-ai-response-id">`gen_ai.response.id`</a>                                                          | string | Deprecated, use `gen_ai.message.id` instead.              | `chatcmpl-123`                                                          | ![Deprecated](https://img.shields.io/badge/-deprecated-red)<br>Replaced by `gen_ai.message.id` attribute.                    |
| <a id="gen-ai-usage-completion-tokens" href="#gen-ai-usage-completion-tokens">`gen_ai.usage.completion_tokens`</a>                      | int    | Deprecated, use `gen_ai.usage.output_tokens` instead.     | `42`                                                                    | ![Deprecated](https://img.shields.io/badge/-deprecated-red)<br>Replaced by `gen_ai.usage.output_tokens` attribute.           |
| <a id="gen-ai-usage-prompt-tokens" href="#gen-ai-usage-prompt-tokens">`gen_ai.usage.prompt_tokens`</a>                                  | int    | Deprecated, use `gen_ai.usage.input_tokens` instead.      | `42`                                                                    | ![Deprecated](https://img.shields.io/badge/-deprecated-red)<br>Replaced by `gen_ai.usage.input_tokens` attribute.            |

`gen_ai.openai.request.response_format` has the following list of well-known values. If one of them applies, then the respective value MUST be used; otherwise, a custom value MAY be used.

| Value         | Description                 | Stability                                                        |
| ------------- | --------------------------- | ---------------------------------------------------------------- |
| `json_object` | JSON object response format | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `json_schema` | JSON schema response format | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
| `text`        | Text response format        | ![Experimental](https://img.shields.io/badge/-experimental-blue) |
